<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Tic-Tac-Toe - Emoji Edition</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/animations.css">
    <link rel="stylesheet" href="css/responsive.css">
</head>
<body>
    <!-- Particle Canvas (background) -->
    <canvas id="particles"></canvas>

    <!-- Welcome Screen -->
    <section id="welcome-screen" class="screen active">
        <div class="welcome-content">
            <h1 class="title-bounce">ğŸ® Tic-Tac-Toe ğŸ®</h1>
            <h2 class="subtitle" id="welcome-subtitle">Emoji Edition</h2>
            <div class="emoji-parade" id="emoji-parade">
                <span>ğŸ®</span><span>â­</span><span>ğŸ‰</span><span>ğŸ†</span>
            </div>
            <p class="tap-hint pulse">Tap anywhere to start</p>
        </div>
    </section>

    <!-- Menu Screen -->
    <section id="menu-screen" class="screen">
        <div class="menu-content">
            <h1>ğŸ¯ Main Menu</h1>
            <div class="menu-buttons">
                <button class="menu-btn" data-action="1player">
                    <span class="btn-icon">ğŸ¤–</span>
                    <span class="btn-text">1 Player</span>
                </button>
                <button class="menu-btn" data-action="2player">
                    <span class="btn-icon">ğŸ‘¥</span>
                    <span class="btn-text">2 Players</span>
                </button>
                <button class="menu-btn" data-action="tutorial">
                    <span class="btn-icon">ğŸ“–</span>
                    <span class="btn-text">How to Play</span>
                </button>
                <button class="menu-btn" data-action="settings">
                    <span class="btn-icon">âš™ï¸</span>
                    <span class="btn-text">Settings</span>
                </button>
            </div>
        </div>
    </section>

    <!-- Category Selection Screen -->
    <section id="category-select-screen" class="screen">
        <div class="category-select-content">
            <button class="back-btn" data-action="back">â† Back</button>
            <h1>Choose Your Theme</h1>
            <div class="category-buttons">
                <button class="category-btn" data-category="animals">
                    <span class="category-icon">ğŸ¾</span>
                    <span class="category-text">Animals</span>
                </button>
                <button class="category-btn" data-category="fruits">
                    <span class="category-icon">ğŸ</span>
                    <span class="category-text">Fruits & Veggies</span>
                </button>
                <button class="category-btn" data-category="humans">
                    <span class="category-icon">ğŸ‘½</span>
                    <span class="category-text">Humans & Aliens</span>
                </button>
                <button class="category-btn" data-category="adult">
                    <span class="category-icon">ğŸ˜ˆ</span>
                    <span class="category-text">Adult Only ğŸ”</span>
                </button>
                <button class="category-btn" data-category="free">
                    <span class="category-icon">â­</span>
                    <span class="category-text">Free Choice</span>
                    <span class="category-desc">(50 emojis)</span>
                </button>
            </div>
        </div>
    </section>

    <!-- Emoji Selection Screen -->
    <section id="emoji-select-screen" class="screen">
        <div class="emoji-select-content">
            <button class="back-btn" data-action="back">â† Back</button>
            <h1 id="emoji-select-title">Player 1, Choose Your Emoji!</h1>
            <div class="emoji-grid" id="emoji-grid">
                <!-- Dynamically populated -->
            </div>
        </div>
    </section>

    <!-- Difficulty Selection Screen -->
    <section id="difficulty-screen" class="screen">
        <div class="difficulty-content">
            <button class="back-btn" data-action="back">â† Back</button>
            <h1>Choose Difficulty</h1>
            <div class="difficulty-buttons">
                <button class="difficulty-btn easy" data-difficulty="easy">
                    <span class="diff-icon">ğŸ˜Š</span>
                    <span class="diff-text">Easy</span>
                    <span class="diff-desc">Random moves</span>
                </button>
                <button class="difficulty-btn medium" data-difficulty="medium">
                    <span class="diff-icon">ğŸ¤”</span>
                    <span class="diff-text">Medium</span>
                    <span class="diff-desc">Sometimes smart</span>
                </button>
                <button class="difficulty-btn hard" data-difficulty="hard">
                    <span class="diff-icon">ğŸ§ </span>
                    <span class="diff-text">Hard</span>
                    <span class="diff-desc">Unbeatable!</span>
                </button>
            </div>
        </div>
    </section>

    <!-- Game Screen -->
    <section id="game-screen" class="screen">
        <div class="game-content">
            <div class="game-header">
                <button class="back-btn" data-action="home">ğŸ </button>
                <div class="turn-indicator">
                    <span id="current-player-emoji">ğŸ±</span>
                    <span>'s turn</span>
                </div>
                <button class="sound-toggle" id="quick-sound-toggle">ğŸ”Š</button>
            </div>

            <div class="scoreboard">
                <div class="score player1-score">
                    <span class="score-emoji" id="p1-score-emoji">ğŸ±</span>
                    <span class="score-value" id="p1-score">0</span>
                </div>
                <div class="score draws-score">
                    <span class="score-label">Draws</span>
                    <span class="score-value" id="draws-score">0</span>
                </div>
                <div class="score player2-score">
                    <span class="score-emoji" id="p2-score-emoji">ğŸ¶</span>
                    <span class="score-value" id="p2-score">0</span>
                </div>
            </div>

            <div class="game-board" id="game-board">
                <button class="cell" data-index="0"></button>
                <button class="cell" data-index="1"></button>
                <button class="cell" data-index="2"></button>
                <button class="cell" data-index="3"></button>
                <button class="cell" data-index="4"></button>
                <button class="cell" data-index="5"></button>
                <button class="cell" data-index="6"></button>
                <button class="cell" data-index="7"></button>
                <button class="cell" data-index="8"></button>
            </div>

            <button class="restart-btn" id="restart-btn">ğŸ”„ New Round</button>
        </div>
    </section>

    <!-- Summary Screen -->
    <section id="summary-screen" class="screen">
        <div class="summary-content">
            <div class="result-display">
                <h1 id="result-title">Victory!</h1>
                <div class="result-emoji" id="result-emoji">ğŸ±</div>
                <p id="result-message">Player 1 wins!</p>
            </div>
            <div class="summary-buttons">
                <button class="summary-btn play-again" data-action="playAgain">
                    ğŸ® Play Again
                </button>
                <button class="summary-btn home" data-action="home">
                    ğŸ  Main Menu
                </button>
            </div>
        </div>
        <canvas id="confetti-canvas"></canvas>
    </section>

    <!-- Tutorial Screen -->
    <section id="tutorial-screen" class="screen">
        <div class="tutorial-content">
            <button class="back-btn" data-action="back">â† Back</button>
            <h1>ğŸ“– How to Play</h1>
            <div class="tutorial-steps">
                <div class="tutorial-step">
                    <span class="step-number">1</span>
                    <p>Choose your favorite emoji to play as!</p>
                </div>
                <div class="tutorial-step">
                    <span class="step-number">2</span>
                    <p>Take turns placing your emoji on the 3Ã—3 grid</p>
                </div>
                <div class="tutorial-step">
                    <span class="step-number">3</span>
                    <p>Get 3 of your emojis in a row (horizontal, vertical, or diagonal) to win!</p>
                </div>
                <div class="tutorial-step">
                    <span class="step-number">4</span>
                    <p>If all 9 squares are filled with no winner, it's a draw!</p>
                </div>
            </div>
            <div class="tutorial-demo">
                <div class="demo-board">
                    <span>ğŸ±</span><span>ğŸ¶</span><span>ğŸ±</span>
                    <span>ğŸ¶</span><span>ğŸ±</span><span>ğŸ¶</span>
                    <span>ğŸ¶</span><span>ğŸ±</span><span class="winner-cell">ğŸ±</span>
                </div>
                <p>Diagonal win! ğŸ‰</p>
            </div>
        </div>
    </section>

    <!-- Settings Screen -->
    <section id="settings-screen" class="screen">
        <div class="settings-content">
            <button class="back-btn" data-action="back">â† Back</button>
            <h1>âš™ï¸ Settings</h1>
            <div class="settings-options">
                <div class="setting-item">
                    <span class="setting-label">ğŸµ Background Music</span>
                    <button class="toggle-btn" id="music-toggle" data-setting="music">
                        <span class="toggle-state">ON</span>
                    </button>
                </div>
                <div class="setting-item">
                    <span class="setting-label">ğŸ”Š Sound Effects</span>
                    <button class="toggle-btn" id="sfx-toggle" data-setting="sfx">
                        <span class="toggle-state">ON</span>
                    </button>
                </div>
                <div class="setting-item">
                    <button class="reset-btn" id="reset-scores">
                        ğŸ—‘ï¸ Reset All Scores
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Scripts -->
    <script src="js/storage.js"></script>
    <script src="js/state.js"></script>
    <script src="js/audio.js"></script>
    <script src="js/particles.js"></script>
    <script src="js/ai.js"></script>
    <script src="js/game.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
