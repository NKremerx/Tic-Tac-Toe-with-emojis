/* ===== Mobile Breakpoints ===== */

/* Small phones (320px - 375px) */
@media screen and (max-width: 375px) {
    .welcome-content h1 {
        font-size: 1.8rem;
    }

    .welcome-content .subtitle {
        font-size: 1.2rem;
    }

    .emoji-parade {
        font-size: 2.2rem;
        gap: 0.5rem;
    }

    .menu-btn {
        padding: 1rem 1.5rem;
        font-size: 1rem;
    }

    .emoji-grid {
        grid-template-columns: repeat(3, 1fr);
        gap: 0.8rem;
    }

    .emoji-option {
        font-size: 2rem;
        padding: 0.6rem;
    }

    .cell {
        width: 70px;
        height: 70px;
        font-size: 2.2rem;
    }

    .game-board {
        gap: 8px;
        padding: 12px;
    }

    .turn-indicator {
        font-size: 1.1rem;
        padding: 0.4rem 0.8rem;
    }

    #current-player-emoji {
        font-size: 1.3rem;
    }

    .scoreboard {
        padding: 0.8rem;
    }

    .score-emoji {
        font-size: 1.5rem;
    }

    .score-value {
        font-size: 1.2rem;
    }

    .result-emoji {
        font-size: 4rem;
    }

    #result-title {
        font-size: 2rem;
    }
}

/* Medium phones (376px - 424px) */
@media screen and (min-width: 376px) and (max-width: 424px) {
    .cell {
        width: 80px;
        height: 80px;
        font-size: 2.5rem;
    }

    .emoji-option {
        font-size: 2.2rem;
    }
}

/* Large phones (425px - 767px) */
@media screen and (min-width: 425px) and (max-width: 767px) {
    .cell {
        width: 90px;
        height: 90px;
        font-size: 3rem;
    }

    .menu-content,
    .emoji-select-content,
    .difficulty-content,
    .game-content,
    .settings-content,
    .tutorial-content {
        max-width: 400px;
    }
}

/* Tablets (768px - 1023px) */
@media screen and (min-width: 768px) {
    .welcome-content h1 {
        font-size: 3.5rem;
    }

    .welcome-content .subtitle {
        font-size: 2rem;
    }

    .emoji-parade {
        font-size: 4rem;
        gap: 1.5rem;
    }

    .tap-hint {
        font-size: 1.5rem;
    }

    .menu-content h1,
    .emoji-select-content h1,
    .difficulty-content h1,
    .settings-content h1,
    .tutorial-content h1 {
        font-size: 2.5rem;
    }

    .menu-btn {
        padding: 1.5rem 3rem;
        font-size: 1.4rem;
    }

    .btn-icon {
        font-size: 2rem;
    }

    .emoji-grid {
        gap: 1.2rem;
    }

    .emoji-option {
        font-size: 3rem;
        padding: 1rem;
    }

    .difficulty-btn {
        padding: 2rem;
    }

    .diff-icon {
        font-size: 3rem;
    }

    .diff-text {
        font-size: 1.5rem;
    }

    .cell {
        width: 110px;
        height: 110px;
        font-size: 3.5rem;
    }

    .game-board {
        gap: 12px;
        padding: 20px;
    }

    .turn-indicator {
        font-size: 1.5rem;
    }

    #current-player-emoji {
        font-size: 1.8rem;
    }

    .scoreboard {
        padding: 1.5rem;
    }

    .score-emoji {
        font-size: 2.2rem;
    }

    .score-value {
        font-size: 1.8rem;
    }

    .result-emoji {
        font-size: 6rem;
    }

    #result-title {
        font-size: 3rem;
    }

    .tutorial-step {
        padding: 1.5rem;
    }

    .step-number {
        width: 50px;
        height: 50px;
        font-size: 1.2rem;
    }

    .demo-board span {
        width: 60px;
        height: 60px;
        font-size: 2rem;
    }
}

/* Desktop (1024px+) */
@media screen and (min-width: 1024px) {
    .menu-content,
    .emoji-select-content,
    .difficulty-content,
    .game-content,
    .settings-content {
        max-width: 500px;
    }

    .cell {
        width: 120px;
        height: 120px;
        font-size: 4rem;
    }

    .cell:hover:not(.filled) {
        transform: scale(1.08);
    }

    .menu-btn:hover {
        transform: translateY(-5px);
    }

    .emoji-option:hover {
        transform: scale(1.15);
    }
}

/* ===== Landscape Mode Adjustments ===== */
@media screen and (max-height: 500px) and (orientation: landscape) {
    .welcome-content h1 {
        font-size: 1.8rem;
        margin-bottom: 0.3rem;
    }

    .welcome-content .subtitle {
        font-size: 1rem;
        margin-bottom: 1rem;
    }

    .emoji-parade {
        font-size: 2rem;
        margin-bottom: 1rem;
    }

    .tap-hint {
        font-size: 1rem;
    }

    .menu-buttons {
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: center;
        gap: 0.5rem;
    }

    .menu-btn {
        padding: 0.8rem 1.2rem;
        font-size: 0.9rem;
    }

    .game-content {
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: center;
        gap: 1rem;
    }

    .game-header {
        width: 100%;
    }

    .scoreboard {
        width: auto;
        padding: 0.5rem 1rem;
    }

    .cell {
        width: 60px;
        height: 60px;
        font-size: 2rem;
    }

    .game-board {
        gap: 6px;
        padding: 10px;
    }

    .restart-btn {
        padding: 0.5rem 1.5rem;
        font-size: 0.9rem;
    }

    .tutorial-content {
        max-height: 85vh;
    }

    .tutorial-steps {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 0.5rem;
    }

    .tutorial-step {
        padding: 0.8rem;
    }

    .step-number {
        width: 30px;
        height: 30px;
        font-size: 0.9rem;
    }
}

/* ===== Touch Device Optimizations ===== */
@media (hover: none) and (pointer: coarse) {
    /* Remove hover effects on touch devices */
    .cell:hover:not(.filled) {
        background: var(--cell-bg);
        transform: none;
    }

    .cell:active:not(.filled) {
        background: var(--cell-hover);
        transform: scale(0.95);
    }

    .menu-btn:hover {
        border-color: transparent;
        transform: none;
        box-shadow: 0 4px 15px var(--shadow-color);
    }

    .menu-btn:active {
        transform: scale(0.98);
    }

    .emoji-option:hover {
        transform: none;
        background: var(--cell-bg);
        border-color: transparent;
        box-shadow: none;
        animation: none;
    }

    .emoji-option:active {
        transform: scale(0.95);
        background: var(--cell-hover);
    }

    /* Larger touch targets */
    .back-btn {
        min-width: 44px;
        min-height: 44px;
    }

    .toggle-btn {
        min-height: 44px;
    }

    .cell {
        min-width: 70px;
        min-height: 70px;
    }
}

/* ===== Reduced Motion Preferences ===== */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }

    .screen {
        transition: none;
    }

    .pulse,
    .title-bounce,
    .emoji-glow,
    .winner-cell,
    .victory-dance {
        animation: none;
    }
}

/* ===== High Contrast Mode ===== */
@media (prefers-contrast: high) {
    :root {
        --bg-primary: #000000;
        --bg-secondary: #0a0a0a;
        --bg-card: #1a1a1a;
        --cell-bg: rgba(255, 255, 255, 0.15);
        --cell-hover: rgba(255, 255, 255, 0.25);
    }

    .cell,
    .menu-btn,
    .emoji-option,
    .difficulty-btn {
        border: 2px solid var(--text-primary);
    }

    .cell.winner {
        border-color: var(--accent-tertiary);
        border-width: 3px;
    }
}

/* ===== Dark Mode (default, but explicit for clarity) ===== */
@media (prefers-color-scheme: dark) {
    /* Already using dark theme by default */
}

/* ===== Print Styles (if someone prints the game state) ===== */
@media print {
    body {
        background: white;
        color: black;
    }

    .screen:not(.active),
    #particles,
    #confetti-canvas,
    .back-btn,
    .restart-btn,
    .sound-toggle {
        display: none !important;
    }

    .game-board {
        background: #f0f0f0;
        box-shadow: none;
    }

    .cell {
        background: white;
        border: 2px solid #333;
    }
}
